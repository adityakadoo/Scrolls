<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>{{ .Site.Title }}</title>
    <link rel="icon"
        href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>{{emojify .Site.Params.logo}}</text></svg>">

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
        integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
        integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"
        integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"
        integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy"
        crossorigin="anonymous"></script>
</head>

<body style="color: {{ .Site.Params.dark.text }}; background-color: {{ .Site.Params.dark.bg }};">
    {{ block "header" . }}
    <nav class="navbar navbar-expand-lg" style="padding:15px; background-color: {{ .Site.Params.dark.fg }};">
        {{ $data := newScratch }}
        {{ $data.Set "link" "//" }}
        {{/* <img width="20" alt="Tilde"
            src="https://upload.wikimedia.org/wikipedia/commons/thumb/4/42/Tilde.svg/512px-Tilde.svg.png"> */}}
        <div style="font-size: 2rem;">
            {{ emojify .Site.Params.logo }}
        </div>
        <a style="color: {{.Site.Params.dark.blue}}; font-size:2rem;" class="navbar-brand nav-link" href="{{ .Site.BaseURL }}">{{
            .Site.Title }}</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <div style="display:flex; flex-direction:row; align-items:center; padding-top: 8px;" class="navbar-nav mr-auto">
                {{ $currlink := path.Dir .RelPermalink }}
                {{ $activeColor := .Site.Params.dark.cyan }}
                {{ $inactiveColor := .Site.Params.dark.blue }}
                {{ $slash := .Site.Params.dark.purple }}
                {{ range (split .RelPermalink "/") }}
                {{ if not (eq . "") }}
                {{ $data.Set "link" (path.Join ($data.Get "link") .) }}
                <div style="color: {{$slash}}; display: inline-block; font-size: 2rem;">
                    /
                </div>
                <div class="nav-item">
                    <a style="display:inline; color: {{ if eq ($data.Get `link`) $currlink }}{{$activeColor}}{{ else }}{{$inactiveColor}}{{ end }}; text-decoration:none;"
                        class="nav-link" href="{{ $data.Get `link` }}">{{ . }}</a>
                </div>
                {{ end }}
                {{ end }}
            </div>
            <div class="btn-group btn-group-toggle" data-toggle="buttons">
                <label class="btn btn-secondary active">
                    <input type="radio" name="options" id="option1" autocomplete="off" checked>
                    <div style="font-size:1.5rem; display:inline;">
                        {{ emojify .Site.Params.dark.icon }}
                    </div>
                    {{/* Light Mode */}}
                </label>
                <label class="btn btn-secondary">
                    <input type="radio" name="options" id="option2" autocomplete="off">
                    <div style="font-size:1.5rem; display:inline;">
                        {{ emojify .Site.Params.light.icon }}
                    </div>
                    {{/* Dark Mode */}}
                </label>
            </div>
        </div>
    </nav>
    {{ end }}
    {{ block "main" . }}
    {{ end }}
</body>

</html>